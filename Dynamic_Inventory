#!/usr/bin/env python
import requests
import json

def get_inventory():
    url = "https://fwd.app/api/networks/156812/devices?skip=0"
    response = requests.get(url)
    data = response.json()

    # Process the API response and generate the inventory dictionary
    inventory = {
        "all": {
            "hosts": [device["hostname"] for device in data["devices"]],
        }
    }

    return json.dumps(inventory)

if __name__ == "__main__":
    print(get_inventory())
