---
- name: Gather Facts from Remote Device via Jump Server with AWX Credentials
  hosts: localhost
  gather_facts: false
  vars:
    jump_server_awx_credential: deveci-jump
    remote_device_awx_credential: FlexVPN
  tasks:
    - name: Configure Jump Server Connection
      ansible.builtin.shell: echo "Configuring Jump Server Connection"
      delegate_to: localhost

    - name: Gather Facts from Remote Device
      gather_facts: true
      vars:
        ansible_user: forward
        ansible_ssh_pass: '{{ FlexVPN.credential_password }}'
      tasks:
        - name: Display Gathered Facts
          ansible.builtin.debug:
            var: ansible_facts
